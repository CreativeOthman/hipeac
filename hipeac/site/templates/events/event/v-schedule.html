<script type="text/x-template" id="{{ id }}">
{% verbatim %}
    <div>
        <ul v-if="event && event.type == 'conference'" class="nav nav-tabs justify-content-center">
            <li class="nav-item">
                <a is="router-link" class="nav-link" :to="{name: 'schedule'}" exact>
                    <icon name="category" class="mr-1"></icon>All sessions</a>
            </li>
            <li class="nav-item">
                <a is="router-link" class="nav-link" :to="{name: 'keynotes'}" exact>
                    <icon name="stars" class="mr-1"></icon>Keynotes</a>
            </li>
            <li class="nav-item">
                <a is="router-link" class="nav-link" :to="{name: 'papers'}" exact>
                    <icon name="bookmark" class="mr-1"></icon>Paper Track</a>
            </li>
        </ul>
        <router-view></router-view>
        <router-view name="modal"></router-view>
    </div>
{% endverbatim %}
</script>

<script type="text/x-template" id="{{ id }}-main">
{% verbatim %}
    <div>
        <search-card placeholder="Search by type, title, main speaker, topics..." class="mb-2">
            <filters-clear :onClick="resetFilters"></filters-clear>
            <div v-if="sessionTypes">
                <h6 class="d-inline display-sm mr-2">Session types</h6>
                <div v-for="st in sessionTypes" :key="st.id" class="form-check form-check-inline mr-2">
                    <label class="form-check-label pointer">
                        <input v-model="filters.sessionTypes" :value="st.id" type="checkbox" class="form-check-input">
                        <span v-html="st.value"></span>
                    </label>
                </div>
            </div>
            <div v-if="applicationAreas">
                <h6 class="d-inline display-sm mr-2">Application areas</h6>
                <div v-for="level in applicationAreas" :key="level.id" class="form-check form-check-inline mr-2">
                    <label class="form-check-label pointer">
                        <input v-model="filters.applicationAreas" :value="level.id" type="checkbox" class="form-check-input">
                        <span v-html="level.value"></span>
                    </label>
                </div>
            </div>
            <div v-if="topics">
                <h6 class="d-inline display-sm mr-2">Topics</h6>
                <div v-for="topic in topics" :key="topic.id" class="form-check form-check-inline mr-2">
                    <label class="form-check-label pointer">
                        <input v-model="filters.topics" :value="topic.id" type="checkbox" class="form-check-input">
                        <span v-html="topic.value"></span>
                    </label>
                </div>
            </div>
        </search-card>
        <div v-if="event" class="hipeac-card">
            <div v-for="(data, date) in event.schedule" class="row">
                <div class="col-12 col-md-2">
                    <display-md class="mt-0 mb-3 text-left">{{ date | moment }}</display-md>
                    <div v-if="data.breaks">
                        <ul class="list-unstyled text-secondary">
                            <li v-for="bre in data.breaks" :key="bre.id" class="text-sm">
                                <icon :name="bre.icon" class="sm mr-1"></icon>
                                <span>{{ bre.startAt }}</span>
                                <icon name="arrow_forward" class="sm mx-1"></icon>
                                <span>{{ bre.endAt }}</span>
                                <span v-if="bre.notes" class="ml-3">{{ bre.notes }}</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-12 col-md-10">
                    <div v-if="data.sessions" v-for="session in data.sessions" :key="session.id" class="row" :v-hide="filteredSessionIds.indexOf(session.id) < 0">
                        <div class="col-12"><hr></div>
                        <div class="col-3 col-lg-1">
                            <catchphrase class="mb-0">{{ session.startAt }}</catchphrase>
                        </div>
                        <div class="col-9 col-lg-11">
                            <span v-if="event.rooms[session.room]">{{ event.rooms[session.room].name }}</span>
                            <span class="badge badge-light mr-2">{{ session.session_type.value }}</span>
                            <small class="text-secondary text-nowrap">
                                <icon name="arrow_forward" class="sm mr-1"></icon>{{ session.endAt }}</small><br>
                            <router-link :to="{name: 'session', params: {sessionId: session.id}}">
                                <span>{{ session.title }}</span>
                            </router-link>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <hr class="my-5">
                </div>
            </div>
        </div>
    </div>
{% endverbatim %}
</script>

<script type="text/x-template" id="{{ id }}-keynotes">
{% verbatim %}
    <div v-if="event" class="hipeac-card">
        <div class="row">
            <div v-for="keynote in keynotes" class="col-12 col-md-6 col-lg pr-md-5 mb-5 mb-lg-0">
                <p><strong>{{ keynote.date | moment('dddd, MMM Do') }}</strong> / {{ keynote.startAt }} - {{ keynote.endAt }}</p>
                <h6 class="text-light-weight">{{ keynote.main_speaker.profile.name }}</h6>
                <img class="mr-3" :src="keynote.main_speaker.profile.avatar_url" class="rounded-circle float-right ml-3 mb-3">
                <h5 class="text-light-weight mb-auto">{{ keynote.title }}</h5>
                <marked :text="keynote.excerpt" class="mt-3"></marked>
                <router-link :to="{name: 'session', params: {sessionId: keynote.id}}">
                    <span class="text-sm"><icon name="add" class="sm mr-1"></icon>More info</span>
                </router-link>
            </div>
        </div>
    </div>
{% endverbatim %}
</script>

<script type="text/x-template" id="{{ id }}-papers">
{% verbatim %}
    <div v-if="event" class="hipeac-card">
        <div v-for="papers in papers">
            <display-sm>{{ papers.date | moment }}: {{ papers.title }}</display-sm>
            <marked :text="papers.summary"></marked>
        </div>
    </div>
{% endverbatim %}
</script>
