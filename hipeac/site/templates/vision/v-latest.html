{% load compress %}


<script type="text/x-template" id="{{ id }}">
    <div v-if="visions">
        <display-lg>{{ blck.header }}</display-lg>
        <div class="row">
        {% verbatim %}
            <div class="col-12 col-md-6 col-lg-4 d-flex align-items-stretch">
                <div class="hipeac-card">
                    <div v-if="vision.download_url">
                        <a :href="vision.download_url" class="btn btn-sm btn-primary btn-block"><i class="material-icons mr-1">get_app</i>Download the full vision</a>
                        <a v-if="vision.flyer" :href="vision.flyer" target="_blank" class="btn btn-sm btn-outline-secondary btn-block"><i class="material-icons mr-1">vertical_split</i>See the flyer</a>
                        <hr class="my-4">
                    </div>
                    <h5 class="mb-3">{{ vision.title }}</h5>
                    <marked class="catchphrase-first" :text="vision.introduction"></marked>
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-8 d-flex align-items-stretch">
                <div class="hipeac-card">
                    <youtube-embed v-if="vision.youtube_url" :url="vision.youtube_url" :hideInfo="true" class="mb-4"></youtube-embed>
                    <display-sm class="mb-3">Summary</display-sm>
                    <marked :text="vision.summary"></marked>
                    <div v-if="vision.public_files.length" class="mt-5">
                        <display-sm class="mb-3 mt-5">Related files</display-sm>
                        <table class="table table-sm">
                            <tr v-for="file in vision.public_files" :key="file.id">
                                <td class="sm"><i class="material-icons sm">description</i></td>
                                <td>{{ file.description }}</td>
                                <td class="text-right">
                                    <a :href="file.file" target="_blank"><i class="material-icons sm">get_app</i></a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        {% endverbatim %}
        </div>
    </div>
    <div v-else class="row">
        <div class="col-12 col-md-6 col-lg-4 d-flex align-items-stretch">
            <skeleton-box></skeleton-box>
        </div>
        <div class="col-12 col-md-6 col-lg-8 d-flex align-items-stretch">
            <skeleton-box></skeleton-box>
        </div>
    </div>
</script>
