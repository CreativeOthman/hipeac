{% spaceless %}
{% load compress %}
{% load static %}


<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#" data-rev="{{ GIT_REV }}" data-csrf-token="{{ csrf_token }}" data-user="{{ user.id | default:"0" }}">
    <head>
        <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500|Material+Icons" type="text/css" rel="stylesheet">
        {% compress css file bootstrap %}
            <link href="{% static 'vendor/bootstrap@4.1.3/bootstrap.min.css' %}" type="text/css" rel="stylesheet">
            <link href="{% static 'scss/base.scss' %}" type="text/x-scss" rel="stylesheet">
        {% endcompress %}
        {% block styles %}{% endblock %}
        <title>{% block head_title %}HiPEAC{% endblock %}</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta property="og:site_name" content="HiPEAC">
        <meta property="og:url" content="{{ request.build_absolute_uri }}">
        <meta property="fb:app_id" content="207028983222704">
        <meta name="twitter:site" content="@hipeac">
        {% block structured_data %}{% endblock %}
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>
        {% if not debug %}
            <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
            <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
            {% compress js inline %}
                <script>
                    window.addEventListener('load', function () {
                        window.cookieconsent.initialise({
                            'palette': {
                                'popup': {
                                    'background': '#eaf7f7',
                                    'text': '#5c7291'
                                },
                                'button': {
                                    'background': '#ffe800'
                                }
                            },
                            "theme": "classic",
                            "position": "bottom-right",
                            "content": {
                                "href": "/privacy-policy/"
                            }
                        });
                    });
                </script>
            {% endcompress %}
            {% if request.DNT %}
                <meta name="twitter:dnt" content="on">
            {% else %}
                <script async src="//www.googletagmanager.com/gtag/js?id=UA-79856831-1"></script>
                {% compress js inline %}
                    <script>
                        var userId = document.getElementsByTagName('html')[0].getAttribute('data-user');
                        window.dataLayer = window.dataLayer || [];
                        function gtag() {
                            dataLayer.push(arguments);
                        };
                        gtag('js', new Date());
                        gtag('config', 'UA-2857653-1', {
                            'user_id': (userId == 0) ? undefined : userId
                        });
                    </script>
                {% endcompress %}
            {% endif %}
        {% endif %}
        {% block head_scripts %}{% endblock %}
    </head>
    <body class="bg-light">
        <div id="particles"></div>
        {% block main %}{% block content %}{% endblock %}{% endblock %}
        {% block vue_templates %}{% endblock %}
        {% if not debug %}
            <script src="https://browser.sentry-cdn.com/4.6.1/bundle.min.js" crossorigin="anonymous"></script>
        {% endif %}
        {% compress js file bootstrap %}
            <script src="{% static 'vendor/jquery@3.3.1/jquery.min.js' %}"></script>
            <script src="{% static 'vendor/popper.js@1.14.3/popper.min.js' %}"></script>
            <script src="{% static 'vendor/bootstrap@4.1.3/bootstrap.min.js' %}"></script>
        {% endcompress %}
        {% compress js file helpers %}
            <script src="{% static 'vendor/commonmark@0.28.1/commonmark.js' %}"></script>
            <script src="{% static 'vendor/moment@2.22.2/moment.min.js' %}"></script>
            <script src="{% static 'js/__init__.js' %}"></script>
            {% if not debug %}
                <script src="{% static 'js/sentry.js' %}"></script>
            {% endif %}
        {% endcompress %}
        {% compress js file vue %}
            <script src="{% static 'vendor/underscore@1.9.1/underscore.min.js' %}"></script>
            {% if debug %}
                <script src="{% static 'vendor/vue@2.5.17/vue.js' %}"></script>
                <script src="{% static 'vendor/vuex@3.0.1/vuex.js' %}"></script>
                <script src="{% static 'vendor/vue-router@3.0.1/vue-router.js' %}"></script>
            {% else %}
                <script src="{% static 'vendor/vue@2.5.17/vue.min.js' %}"></script>
                <script src="{% static 'vendor/vuex@3.0.1/vuex.min.js' %}"></script>
                <script src="{% static 'vendor/vue-router@3.0.1/vue-router.min.js' %}"></script>
            {%endif %}
            <script src="{% static 'js/ajax.js' %}"></script>
            <script src="{% static 'js/helpers.js' %}"></script>
            <script src="{% static 'js/mappers.js' %}"></script>
            <script src="{% static 'js/v-shared.js' %}"></script>
        {% endcompress %}
        {% block extra_scripts %}{% endblock %}
        {% block scripts %}{% endblock %}
        {% compress js file particles %}
            <script src="{% static 'vendor/particles@2.0.0/particles.min.js' %}"></script>
            <script>
                if (!isSmallDevice() && !isIE()) {
                    particlesJS('particles', {
                        "particles": {
                            "number": {
                                "value": 160,
                                "density": {
                                    "enable": true,
                                    "value_area": 800
                                }
                            },
                            "color": {
                                "value": "#cccccc"
                            },
                            "shape": {
                                "type": "circle",
                                "stroke": {
                                    "width": 0
                                },
                                "polygon": {
                                    "nb_sides": 5
                                }
                            },
                            "opacity": {
                                "value": 1,
                                "random": true,
                                "anim": {
                                    "enable": false,
                                    "sync": false
                                }
                            },
                            "size": {
                                "value": 3,
                                "random": true,
                                "anim": {
                                    "enable": false,
                                    "sync": false
                                }
                            },
                            "line_linked": {
                                "enable": true,
                                "distance": 150,
                                "color": "#dddddd",
                                "opacity": 0.5,
                                "width": 1
                            },
                            "move": {
                                "enable": false
                            }
                        },
                        "interactivity": {
                            "detect_on": "canvas",
                            "events": {
                                "onhover": {
                                    "enable": false
                                },
                                "onclick": {
                                    "enable": false
                                },
                                "resize": true
                            }
                        },
                        "retina_detect": true
                    });
                }
            </script>
        {% endcompress %}
    </body>
</html>


{% endspaceless %}
